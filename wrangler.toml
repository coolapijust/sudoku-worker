name = "sudoku-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# 构建命令 - Cloudflare 自动处理 TypeScript
# 不需要额外配置，Wrangler 会自动编译 src/index.ts

# WASM 模块绑定 - 使用内联表格式
wasm_modules = { SUDOKU_WASM = "./sudoku.wasm" }

[vars]
CIPHER_METHOD = "aes-128-gcm"
LAYOUT_MODE = "ascii"

# 环境变量需要在 Cloudflare Dashboard 中设置：
# - SUDOKU_KEY: 64位十六进制密钥
# - UPSTREAM_HOST: 上游服务器地址
